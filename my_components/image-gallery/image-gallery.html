<script src="../../bower_components/webcomponentsjs/webcomponents.js"></script>
<script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
<link rel="import" href="../../bower_components/polymer/polymer.html">
<script src="../../shirtlessAPI.js"></script>

<dom-module id="image-gallery">
<style>
    button {
            background-color: tan;
        }
        #toolbar {
            background: orange;
        }
        #user-input {
            width: 30%
        }
        .image {
            margin: 24px;
            border-color: white;
            border-width: 8px;
            border-style: solid;
        }
        .content-wrapper {
            background: darkslategray;
        }
</style>

<template>
    <input id="input" value="{{searchString::input}}"></input>
    <button on-click="handleClick">Regular Button</button>
    <div id="gallery-container">Results:</div>
    <template is="dom-repeat" items="{{images}}">
        <div>
            <img class="image" src="{{item.src}}" alt="{{item.title}}">
        </div>
    </template>
</template>
</dom-module>

<script>
    Polymer ({
        is: "image-gallery",

        properties: {
            images: {
                type: Array,
                value: function(){
                    return [];
                }
            },
            queryString: ""
        },

        updateImages: function(e){
            console.log("updateImages called");
            this.images = shirtlessAPI.get()
        },

        handleClick: function(e){
            queryString = $('#input')[0].value;
            this.images = shirtlessAPI.get(queryString);
            console.log(this.images);
            console.log(queryString);
        }
    })
</script>